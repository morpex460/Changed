# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´ L2 –°–ï–¢–ï–ô (Optimism & Arbitrum)

## üéØ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!

**–ü—Ä–æ–±–ª–µ–º–∞**: –°–∞–π—Ç –Ω–µ –≤–∏–¥–µ–ª —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ —Å–µ—Ç—è—Ö Optimism –∏ Arbitrum One, —Ö–æ—Ç—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏–ª–∏.

**–ü—Ä–∏—á–∏–Ω–∞**: –°–∞–π—Ç –ø—Ä–æ–≤–µ—Ä—è–ª —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –±–ª–æ–∫–æ–≤, —á—Ç–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è L2 —Å–µ—Ç–µ–π (Optimism/Arbitrum), –≥–¥–µ –±–ª–æ–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Ä–µ–∂–µ, —á–µ–º –≤ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–µ—Ç—è—Ö.

**–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã**: 
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è 0x608a22f8b1af74c7c181450f450a35f109686def0d0cdf28a638701a27659f11 
- –û–±—Ä–∞–±–æ—Ç–∞–ª–∞—Å—å –≤ –±–ª–æ–∫–µ 137933404 –≤ —Å–µ—Ç–∏ Optimism
- –î–µ–Ω—å–≥–∏ –ø—Ä–∏—à–ª–∏ –Ω–∞ –∫–æ—à–µ–ª–µ–∫, –Ω–æ —Å–∞–π—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –Ω–µ –≤–∏–¥–µ–ª

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–£–≤–µ–ª–∏—á–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã—Ö –±–ª–æ–∫–æ–≤ –¥–ª—è L2 —Å–µ—Ç–µ–π:

| –°–µ—Ç—å | –†–∞–Ω—å—à–µ | –¢–µ–ø–µ—Ä—å | –ü—Ä–∏—á–∏–Ω–∞ |
|------|--------|--------|---------|
| Polygon | 5 –±–ª–æ–∫–æ–≤ | 5 –±–ª–æ–∫–æ–≤ | –ë—ã—Å—Ç—Ä—ã–µ –±–ª–æ–∫–∏, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ |
| BSC | 5 –±–ª–æ–∫–æ–≤ | 5 –±–ª–æ–∫–æ–≤ | –ë—ã—Å—Ç—Ä—ã–µ –±–ª–æ–∫–∏, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ |
| Ethereum | 5 –±–ª–æ–∫–æ–≤ | 5 –±–ª–æ–∫–æ–≤ | –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä–æ, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ |
| **Arbitrum** | 5 –±–ª–æ–∫–æ–≤ | **50 –±–ª–æ–∫–æ–≤** | L2 —Å–µ—Ç—å, –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ |
| **Optimism** | 5 –±–ª–æ–∫–æ–≤ | **50 –±–ª–æ–∫–æ–≤** | L2 —Å–µ—Ç—å, –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ |

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. **`src/services/BlockchainMonitorFixed.ts`**
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `BLOCK_CHECK_CONFIG`
   - ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã—Ö –±–ª–æ–∫–æ–≤ –¥–ª—è Optimism/Arbitrum –¥–æ 50
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

2. **`src/services/EnhancedBlockchainMonitor.ts`**
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–∞–∫–∞—è –∂–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `BLOCK_CHECK_CONFIG`
   - ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º –º–æ–Ω–∏—Ç–æ—Ä–æ–º
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ö–æ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–π:

```typescript
// –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–ª–æ–∫–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–µ—Ç–µ–π
private readonly BLOCK_CHECK_CONFIG = {
  polygon: 5,    // –ë—ã—Å—Ç—Ä—ã–µ –±–ª–æ–∫–∏, 5 –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
  bsc: 5,        // –ë—ã—Å—Ç—Ä—ã–µ –±–ª–æ–∫–∏, 5 –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ  
  ethereum: 5,   // –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä–æ, 5 –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
  arbitrum: 50,  // L2 —Å–µ—Ç—å, –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –±–ª–æ–∫–æ–≤ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
  optimism: 50   // L2 —Å–µ—Ç—å, –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –±–ª–æ–∫–æ–≤ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
};

// –ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–ª–æ–∫–æ–≤
const blocksToCheck = this.BLOCK_CHECK_CONFIG[network];
for (let blockNum = Math.max(lastCheckedBlock + 1, currentBlock - blocksToCheck); blockNum <= currentBlock; blockNum++) {
```

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —Å–∞–π—Ç **–ì–ê–†–ê–ù–¢–ò–†–û–í–ê–ù–ù–û** —É–≤–∏–¥–∏—Ç –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤–æ –≤—Å–µ—Ö –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Å–µ—Ç—è—Ö:
- ‚úÖ Ethereum (ERC-20)
- ‚úÖ Binance Smart Chain (BEP-20)
- ‚úÖ Polygon
- ‚úÖ **Arbitrum** (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ!)
- ‚úÖ **Optimism** (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ!)

## üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é** –≤ —Å–µ—Ç–∏ Optimism –∏–ª–∏ Arbitrum
2. **–ñ–¥–∏—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏** - —Å–∞–π—Ç —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 –±–ª–æ–∫–æ–≤
3. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –±—É–¥–µ—Ç –Ω–∞–π–¥–µ–Ω–∞** –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –≤ –∫–∞–∫–æ–º –∏–∑ 50 –±–ª–æ–∫–æ–≤ –æ–Ω–∞ –±—ã–ª–∞ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ò–∑–º–µ–Ω–µ–Ω–∏–µ **–ù–ï –í–õ–ò–Ø–ï–¢** –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥—Ä—É–≥–∏—Ö —Å–µ—Ç–µ–π
- Polygon, BSC –∏ Ethereum –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π –≤ 5 –±–ª–æ–∫–æ–≤
- –õ–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–±–∏—Ä–∞–µ—Ç –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–ª–æ–∫–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ—Ç–∏
- **Backward compatibility**: –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ

---

**–ü—Ä–æ–±–ª–µ–º–∞ —Å L2 —Å–µ—Ç—è–º–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!** üéâ
